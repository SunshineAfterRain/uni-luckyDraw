(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"2e66":function(e,t,n){var o=n("7855");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var r=n("71d4").default;r("0470c227",o,!0,{sourceMap:!1,shadowMode:!1})},3285:function(e,t,n){"use strict";n.r(t);var o=n("6871"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=r.a},6113:function(e,t,n){"use strict";var o=n("2e66"),r=n.n(o);r.a},6871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("dd49"));function r(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{}},components:{},methods:{getUserInfo:function(e){console.log(e),e.target.errMsg.indexOf("ok")&&(uni.setStorage({key:"userInfo",data:e.target.userInfo}),uni.login({provider:"weixin",success:function(t){console.log(t);var n={code:t.code,encryptedData:e.target.encryptedData,iv:e.target.iv};o.default.login(n).then(function(e){200===e.code?(console.log(e),wx.setStorage({key:"userInfo",data:e.data.UserInfo}),wx.setStorage({key:"token",data:e.data.Token}),uni.navigateBack()):wx.showToast({title:e.msg,icon:"none"})})}}))}},created:function(){}};t.default=a},7855:function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,".login[data-v-20e50a12]{text-align:center}.content[data-v-20e50a12]{margin-top:%?200?%;margin-bottom:%?50?%}.content uni-text[data-v-20e50a12]{display:block;color:#9d9d9d;margin-top:%?40?%}.bottom[data-v-20e50a12]{border-radius:%?80?%;margin:%?70?% %?50?%;font-size:%?35?%}",""])},"7c15":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={login:"https://luckdraw.xyz/userInfo/login",actionForm:"https://luckdraw.xyz/gameInfo/launchGame"};t.default=o},8462:function(e,t,n){var o=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,a=r&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=n("b5aa"),r)o.regeneratorRuntime=a;else try{delete o.regeneratorRuntime}catch(i){o.regeneratorRuntime=void 0}},"8e2e":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._m(0),n("v-uni-button",{attrs:{type:"primary",size:"large","open-type":"getUserInfo",shape:"circle"},on:{getuserinfo:function(t){t=e.$handleEvent(t),e.getUserInfo(t)}}},[e._v("点击授权")])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("div",[e._v("申请获取以下权限")]),n("p",[e._v("获得你的公开信息(昵称，头像等)")])])}];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r})},a86a:function(e,t,n){"use strict";n.r(t);var o=n("8e2e"),r=n("3285");for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n("6113");var i=n("17cc"),u=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,"20e50a12",null);t["default"]=u.exports},b775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/json"};return uni.showLoading({title:"加载中"}),new Promise(function(o,r){uni.request({url:e,data:t,method:"GET",header:n,success:function(e){if(uni.hideLoading(),200!==e.statusCode)return uni.showToast({title:"网络出错，稍后再试",icon:"none"}),!1;o(e.data)},fail:function(e){uni.hideLoading(),r(e)},complete:function(){uni.hideLoading()}})})},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/json"};return uni.showLoading({title:"加载中"}),console.log(n),new Promise(function(o,r){uni.request({url:e,data:t,method:"POST",header:n,success:function(e){uni.hideLoading(),o(e.data)},fail:function(e){uni.hideLoading(),r(e)},complete:function(){uni.hideLoading()}})})}},r=o;t.default=r},dd49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ffe2")),r=i(n("b775")),a=i(n("7c15"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,o,r,a,i){try{var u=e[a](i),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){u(a,o,r,i,c,"next",e)}function c(e){u(a,o,r,i,c,"throw",e)}i(void 0)})}}var s={login:function(){var e=c(o.default.mark(function e(t,n){var i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(a.default.login,t,n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),actionForm:function(){var e=c(o.default.mark(function e(t,n){var i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.default.post(a.default.actionForm,t,n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},d=s;t.default=d},ffe2:function(e,t,n){e.exports=n("8462")}}]);